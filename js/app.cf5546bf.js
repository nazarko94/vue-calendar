(function(){"use strict";var t={2204:function(t,e,a){var s=a(144),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("MyCalendar")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("MyNavbar",{on:{"select-view":t.selectView,"next-page":t.nextPage,"back-page":t.backPage,"today-page":t.todayPage}}),a("Section",{ref:"area",attrs:{activeView:t.view,date:t.date}}),t.isPopupOpen?a("Popup"):t._e()],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav"},[a("div",{staticClass:"nav-section day-select"},[a("NavbarButton",{staticClass:"today",attrs:{title:"Today"},on:{"click-button":t.todayPage}}),a("NavbarButton",{attrs:{title:"Back"},on:{"click-button":t.backPage}}),a("NavbarButton",{attrs:{title:"Next"},on:{"click-button":t.nextPage}})],1),a("div",{staticClass:"nav-section view-select"},t._l(t.viewSelectTitles,(function(e){return a("NavbarButton",{key:e,attrs:{title:e},on:{"click-button":t.selectView}})})),1)])},c=[],u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{on:{click:t.clickHandler}},[t._v(t._s(t.title))])},d=[],h={name:"MenuButton",props:["title"],methods:{clickHandler(){this.$emit("click-button",this.title)}}},m=h,p=a(1001),v=(0,p.Z)(m,u,d,!1,null,"1a8a11b0",null),g=v.exports,y={monthView:"monthView",weekView:"weekView",dayView:"dayView"},f={name:"MyMenu",components:{NavbarButton:g},data(){return{daySelectTitles:["Back","Today","Next"],viewSelectTitles:["Day","Week","Month"]}},methods:{todayPage(){this.$emit("today-page")},backPage(){this.$emit("back-page")},nextPage(){this.$emit("next-page")},clickHandler(t){console.log(t," clicked")},selectView(t){let e;switch(t){case"Day":e=y.dayView;break;case"Week":e=y.weekView;break;case"Month":e=y.monthView;break;default:e=y.monthView;break}this.$emit("select-view",e)}}},T=f,D=(0,p.Z)(T,l,c,!1,null,null,null),w=D.exports,k=(a(1703),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"day-table"},[a("h2",[t._v(t._s(t.pageTitle))]),a("div",{staticClass:"day"},[a("div",{staticClass:"content"},[a("TimeLine"),a("div",{staticClass:"times"},[a("div",{staticClass:"header"}),t._l(24,(function(e){return a("div",{key:e,staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(e-1))+" ")])}))],2),a("DayColumn",{attrs:{date:t.date,isToday:!1,title:t.dayTitle}})],1)])])}),C=[];function _(t=new Date){const e=t.getFullYear(),a=t.getMonth(),s=33-new Date(e,a,33).getDate();return s}function b(t=new Date){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var a=e[t.getDay()];return a}function $(t=new Date){return b(t).slice(0,3).toUpperCase()}function M(t){let e=$(t),a=t.toLocaleDateString("en",{day:"2-digit",month:"2-digit"});return a=a.split("/").reverse().join("/"),`${e} ${a}`}function P(t){const e=new Date;return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function x(t){let e=`${t}:00`;return t<10&&(e=["0",...e].join("")),e}function S(t){const e={year:"numeric",month:"2-digit",day:"2-digit"},[a,s,i]=t.toLocaleDateString("en",e).split("/");return[i,a,s].join("-")}var E,V,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[{today:t.isToday},"day"]},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(" "+t._s(t.title)+" ")])]),a("div",{staticClass:"hours"},[t._l(t.tasks,(function(e){return a("div",{key:e.id,staticClass:"task",style:{top:e.top+"px",height:e.height+"px"}},[t._v(" "+t._s(e.startTime)+" ")])})),t._l(24,(function(e){return a("div",{key:e,staticClass:"hour",attrs:{startTime:t._f("formatTime")(e-1),endTime:t._f("formatTime")(e)},on:{click:t.onClick}})}))],2)])},O=[],Y={name:"DayColumn",props:{date:Date,isToday:Boolean,title:String},filters:{formatTime(t){return x(t)}},computed:{tasks(){let t=this.$store.getters.DateTasks(this.date);return t.map((t=>(t.top=this.calculateTaskOffset(t.startTime),t.height=this.calculateTaskHeight(t.startTime,t.endTime),t.id=1e3*t.top+t.height,t)))}},methods:{calculateTaskOffset(t){return this.convertMinutesToPixels("00:00",t)+1},calculateTaskHeight(t,e){const a=this.convertMinutesToPixels(t,e)-2;return a<10?10:a},convertMinutesToPixels(t,e){let a,[s,i]=this.parseTime(t),[n,r]=this.parseTime(e);const o=47;return a=o*(n-s),a+=o/60*(r-i),a},parseTime(t){return t.split(":").map((t=>parseInt(t)))},onClick(t){const e=S(this.date),a=t.target.getAttribute("startTime");let s=t.target.getAttribute("endTime");"23:00"===a&&(s="00:00"),this.$store.commit("setPopupDate",e),this.$store.commit("setPopupStartTime",a),this.$store.commit("setPopupEndTime",s),this.$store.dispatch("openPopup")}}},Z=Y,A=(0,p.Z)(Z,F,O,!1,null,"63667aa6",null),N=A.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timeline",style:{top:t.countTimeline+"px"}},[a("div",{staticClass:"point"})])},j=[],W={name:"MyTimeline",computed:{countTimeline(){const t=new Date,e=t.getMinutes(),a=t.getHours(),s=47,i=35;return i+s*(a+e/60)-1}}},L=W,H=(0,p.Z)(L,B,j,!1,null,null,null),q=H.exports,U={name:"MyDay",props:{},components:{DayColumn:N,TimeLine:q},filters:{formatTime(t){return x(t)}},computed:{pageTitle(){let t=b(this.date);return t+=" ",t+=this.date.toLocaleDateString("en",{month:"short",day:"2-digit"}),t},dayTitle(){return M(this.date)},date(){return this.$store.getters.DATE}},methods:{nextPage(){this.$store.dispatch("nextDay")},prevPage(){this.$store.dispatch("prevDay")}}},I=U,X=(0,p.Z)(I,k,C,!1,null,null,null),z=X.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"week-table"},[a("h2",[t._v(t._s(t.title))]),a("div",{staticClass:"week"},[a("TimeLine"),a("div",{staticClass:"times"},[a("div",{staticClass:"header"}),t._l(24,(function(e){return a("div",{key:e,staticClass:"time"},[t._v(" "+t._s(t._f("formatTime")(e-1))+" ")])}))],2),t._l(t.week,(function(e){return a("DayColumn",t._b({key:e.date.getTime()},"DayColumn",e,!1))}))],2)])},J=[],K={name:"MyWeek",components:{DayColumn:N,TimeLine:q},filters:{formatTime(t){let e=`${t}:00`;return t<10&&(e=["0",...e].join("")),e}},computed:{week(){let t=this.getDaysBeforeCurrent(),e=this.getDaysAfterCurrent();return[...t,...e]},title(){const t={month:"short"},e=this.date.toLocaleDateString("en-US",t),a=this.week[0].date.getDate(),s=this.week[6].date.getDate();return`${e} ${a} - ${e} ${s}`},date(){return this.$store.getters.DATE}},methods:{nextPage(){this.$store.dispatch("nextWeek")},backPage(){this.$store.dispatch("prevWeek")},getDaysBeforeCurrent(){return Array.from({length:this.date.getDay()},((t,e)=>{const a=this.date.getDate()-this.date.getDay()+e,s=new Date(this.date.getFullYear(),this.date.getMonth(),a),i=P(s),n=this.getDayTitle(s);return{date:s,isToday:i,title:n}}))},getDaysAfterCurrent(){return Array.from({length:7-this.date.getDay()},((t,e)=>{const a=new Date(this.date.getFullYear(),this.date.getMonth(),this.date.getDate()+e),s=P(a),i=this.getDayTitle(a);return{date:a,isToday:s,title:i}}))},getDayTitle(t){let e=$(t),a=t.toLocaleDateString("en",{day:"2-digit",month:"2-digit"});return a=a.split("/").reverse().join("/"),`${e} ${a}`}}},Q=K,R=(0,p.Z)(Q,G,J,!1,null,null,null),tt=R.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"month-table"},[a("h2",[t._v(t._s(t.title))]),t._m(0),t._l(t.cells,(function(e){return a("MonthCell",t._b({key:e.date.getTime()},"MonthCell",e,!1))}))],2)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"days"},[a("div",{staticClass:"day"},[t._v("Sunday")]),a("div",{staticClass:"day"},[t._v("Monday")]),a("div",{staticClass:"day"},[t._v("Tuesday")]),a("div",{staticClass:"day"},[t._v("Wednesday")]),a("div",{staticClass:"day"},[t._v("Thursday")]),a("div",{staticClass:"day"},[t._v("Friday")]),a("div",{staticClass:"day"},[t._v("Saturday")])])}],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[{today:t.isToday,thisMonth:t.isThisMonth},"cell"],on:{click:t.onClick}},[a("div",{staticClass:"date"},[t._v(t._s(t.date.getDate()))]),t._l(t.tasks,(function(e){return a("div",{key:e.date+e.startTime,staticClass:"task"},[t._v(" "+t._s(e.startTime)+" ")])}))],2)},it=[],nt={name:"MonthCell",props:{date:Date,isToday:Boolean,isThisMonth:Boolean},computed:{tasks(){let t=this.$store.getters.DateTasks(this.date);return t.sort(((t,e)=>t.startTime<e.startTime?-1:t.startTime>e.startTime?1:0))}},methods:{onClick(){const t=S(this.date);this.$store.commit("setPopupDate",t),this.$store.dispatch("openPopup")}}},rt=nt,ot=(0,p.Z)(rt,st,it,!1,null,"4339fb5d",null),lt=ot.exports,ct={name:"MyMonth",components:{MonthCell:lt},computed:{date(){return this.$store.getters.DATE},title(){const t={year:"numeric",month:"long"},e=this.date.toLocaleDateString("en",t);return e},cells(){return[...this.getCellsPreviousMonth(),...this.getCellsThisMonth(),...this.getCellsNextMonth()]}},methods:{backPage(){this.$store.dispatch("prevMonth")},nextPage(){this.$store.dispatch("nextMonth")},getCellsPreviousMonth(){const t=new Date(this.date.getFullYear(),this.date.getMonth(),1).getDay(),e=_(new Date(this.date.getFullYear(),this.date.getMonth()-1));return Array.from({length:t},((a,s)=>{const i=e-t+s+1,n=new Date(this.date.getFullYear(),this.date.getMonth()-1,i),r=P(n);return{date:n,isThisMonth:!1,isToday:r}}))},getCellsThisMonth(){const t=_(this.date);return Array.from({length:t},((t,e)=>{const a=new Date(this.date.getFullYear(),this.date.getMonth(),e+1),s=P(a);return{date:a,isToday:s,isThisMonth:!0}}))},getCellsNextMonth(){const t=_(this.date),e=new Date(this.date.getFullYear(),this.date.getMonth(),t).getDay();return Array.from({length:6-e},((t,e)=>{const a=new Date(this.date.getFullYear(),this.date.getMonth()+1,e+1),s=P(a);return{date:a,isToday:s,isThisMonth:!1}}))}}},ut=ct,dt=(0,p.Z)(ut,et,at,!1,null,"9d0a086c",null),ht=dt.exports,mt={name:"MySection",components:{Month:ht,Week:tt,Day:z},props:{activeView:{type:String,default:y.monthView},date:{type:Date,default:new Date}},methods:{backPage(){this.$refs.view.backPage()},nextPage(){this.$refs.view.nextPage()}},render(){if(this.activeView==y.dayView)return this.$createElement("Day",{ref:"view"});if(this.activeView==y.weekView)return this.$createElement("Week",{ref:"view"});if(this.activeView==y.monthView)return this.$createElement("Month",{ref:"view"});throw new Error("Select calendar view: bad option")}},pt=mt,vt=(0,p.Z)(pt,E,V,!1,null,null,null),gt=vt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popup-wrapper"},[a("div",{staticClass:"popup-section"}),a("div",{staticClass:"popup"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("header",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("Create event")]),a("div",{staticClass:"close-button",on:{click:function(e){return t.close()}}},[t._v("X")])]),a("main",{staticClass:"main"},[a("div",{staticClass:"date-desc"},[a("label",{attrs:{for:"date"}},[t._v("Date")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],attrs:{type:"date",name:"date",id:"date",required:""},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})]),a("div",{staticClass:"time-desc"},[a("h3",{staticClass:"title"},[t._v("Times")]),a("div",{staticClass:"start-time"},[a("label",{attrs:{for:"startTime"}},[t._v("Start Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.timeStart,expression:"timeStart"}],attrs:{type:"time",id:"startTime",required:""},domProps:{value:t.timeStart},on:{input:function(e){e.target.composing||(t.timeStart=e.target.value)}}})]),a("div",{staticClass:"end-time"},[a("label",{attrs:{for:"endTime"}},[t._v("End Time")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.timeEnd,expression:"timeEnd"}],attrs:{type:"time",id:"endTime",required:""},domProps:{value:t.timeEnd},on:{input:function(e){e.target.composing||(t.timeEnd=e.target.value)}}})])])]),t._m(0)])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"footer"},[a("button",{staticClass:"submit-button",attrs:{type:"submit"}},[t._v("Create")])])}],Tt={name:"MyPopup",computed:{timeStart:{get(){return this.$store.state.popup.startTime},set(t){this.$store.commit("setPopupStartTime",t)}},timeEnd:{get(){return this.$store.state.popup.endTime},set(t){this.$store.commit("setPopupEndTime",t)}},date:{get(){return this.$store.state.popup.date},set(t){this.$store.commit("setPopupDate",t)}}},data(){return{}},methods:{createTask(){this.$store.dispatch("createTask"),this.clearAreas()},clearAreas(){this.timeStart="",this.timeEnd="",this.date=""},close(){this.$store.dispatch("closePopup")},onSubmit(){this.createTask(),this.close()}}},Dt=Tt,wt=(0,p.Z)(Dt,yt,ft,!1,null,"7ed111c5",null),kt=wt.exports,Ct={name:"MyCalendar",components:{MyNavbar:w,Section:gt,Popup:kt},computed:{isPopupOpen(){return this.$store.getters.isPopupOpen}},data(){return{view:y.monthView,date:new Date}},methods:{backPage(){this.$refs.area.backPage()},todayPage(){this.$store.dispatch("today")},nextPage(){this.$refs.area.nextPage()},selectView(t){this.view=t}}},_t=Ct,bt=(0,p.Z)(_t,r,o,!1,null,"7d38ab41",null),$t=bt.exports,Mt={name:"App",components:{MyCalendar:$t}},Pt=Mt,xt=(0,p.Z)(Pt,i,n,!1,null,null,null),St=xt.exports,Et=a(629),Vt={DATE:t=>t.date,isPopupOpen:t=>t.popup.isOpen,DateTasks:t=>e=>{const a=S(e);return t.tasks.filter((t=>t.date===a))}},Ft={setDate(t,e){t.commit("setDate",e)},nextDay(t){const e=t.state.date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);t.commit("setDate",a)},prevDay(t){const e=t.state.date,a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1);t.commit("setDate",a)},today(t){t.commit("setDate",new Date)},prevWeek(t){const e=t.state.date,a=e.getDay()+1,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()-a);t.commit("setDate",s)},nextWeek(t){const e=t.state.date,a=7-e.getDay(),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()+a);t.commit("setDate",s)},prevMonth(t){const e=t.state.date,a=new Date(e.getFullYear(),e.getMonth()-1);t.commit("setDate",a)},nextMonth(t){const e=t.state.date,a=new Date(e.getFullYear(),e.getMonth()+1);t.commit("setDate",a)},openPopup(t){t.commit("screenSetPopup",!0)},closePopup(t){t.commit("screenSetPopup",!1)},createTask(t){const{date:e,startTime:a,endTime:s}=t.state.popup;t.commit("createTask",{date:e,startTime:a,endTime:s})}},Ot={setDate:(t,e)=>{t.date=e},screenSetPopup:(t,e)=>{t.popup.isOpen=e},createTask:(t,e)=>{t.tasks.push(e)},setPopupStartTime:(t,e)=>{t.popup.startTime=e},setPopupEndTime:(t,e)=>{t.popup.endTime=e},setPopupDate:(t,e)=>{t.popup.date=e}};s.Z.use(Et.ZP);var Yt=new Et.ZP.Store({state:{date:new Date,viewHasToday:!0,tasks:[],popup:{isOpen:!1,date:"",startTime:"",endTime:""}},getters:Vt,actions:Ft,mutations:Ot});s.Z.config.productionTip=!1,new s.Z({store:Yt,render:t=>t(St)}).$mount("#app")}},e={};function a(s){var i=e[s];if(void 0!==i)return i.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,a),n.exports}a.m=t,function(){var t=[];a.O=function(e,s,i,n){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],n=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&n||r>=n)&&Object.keys(a.O).every((function(t){return a.O[t](s[l])}))?s.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,i,n]}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,n,r=s[0],o=s[1],l=s[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var u=l(a)}for(e&&e(s);c<r.length;c++)n=r[c],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(u)},s=self["webpackChunkcalendar_vue"]=self["webpackChunkcalendar_vue"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2204)}));s=a.O(s)})();
//# sourceMappingURL=app.cf5546bf.js.map